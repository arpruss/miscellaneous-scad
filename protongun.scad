side = 3; // [1:top,2:bottom,3:whole]

handleThickness = 10;
rounding = 4;
triggerGuardThickness = 6;
boomerangThickness = 1;
starThickness = 1;
sphereDiameter = 3.4;
distanceBetweenLines = 10;

module inflated_sight() {
  polyhedron(points=[[-11.21400,7.48098,0.70859],[-11.86360,6.35585,0.40251],[-12.51320,7.48098,0.36971],[-12.51320,7.48098,-0.36971],[-11.86360,6.35585,-0.40251],[-11.21400,7.48098,-0.70859],[-12.05712,8.27093,0.00000],[-11.66101,8.25523,0.00000],[-12.77291,7.93082,0.00000],[-12.81569,7.48098,0.00000],[-12.72401,7.11584,0.00000],[-12.19219,6.35585,0.00000],[-10.97581,5.64326,0.00000],[-10.56440,6.35585,0.84722],[-11.66778,6.01669,0.00000],[-10.56440,6.35585,-0.84722],[-11.96638,6.17783,0.00000],[-9.91480,7.48098,0.80131],[-9.91480,7.48098,-0.80131],[-10.78698,8.22060,0.00000],[-10.32415,8.19000,0.00000],[-9.08174,4.42335,0.00000],[-9.91480,5.23071,0.48819],[-8.61561,5.23071,1.01451],[-9.69720,4.85380,0.00000],[-8.61561,5.23071,-1.01451],[-9.91480,5.23071,-0.48819],[-9.26521,6.35585,1.06120],[-9.26521,6.35585,-1.06120],[-10.23611,5.23071,0.00000],[-10.00722,5.07063,0.00000],[-8.61561,7.48098,0.78050],[-8.61561,7.48098,-0.78050],[-9.54804,8.11623,0.00000],[-8.94883,8.05815,0.00000],[-7.31641,5.23071,1.22947],[-7.96601,4.10557,0.78275],[-7.96601,4.10557,-0.78275],[-7.31641,5.23071,-1.22947],[-7.96601,6.35585,1.15088],[-7.96601,6.35585,-1.15088],[-8.68215,4.10557,0.00000],[-7.31641,7.48098,0.63053],[-7.31641,7.48098,-0.63053],[-8.34473,7.95016,0.00000],[-7.50012,7.79917,0.00000],[-6.45023,2.23043,0.00000],[-7.31641,2.98044,0.16311],[-6.01722,2.98044,1.03806],[-7.29143,2.93716,0.00000],[-6.01722,2.98044,-1.03806],[-7.31641,2.98044,-0.16311],[-6.66682,4.10557,1.17564],[-6.66682,4.10557,-1.17564],[-7.34294,2.98044,0.00000],[-8.19992,3.70043,0.00000],[-7.32508,2.96543,0.00000],[-6.01722,5.23071,1.30394],[-6.01722,5.23071,-1.30394],[-6.66682,6.35585,1.14574],[-6.66682,6.35585,-1.14574],[-6.01722,7.48098,0.27347],[-6.01722,7.48098,-0.27347],[-7.16708,7.73964,0.00000],[-6.05140,7.54019,0.00000],[-4.71802,2.98044,1.30881],[-5.36762,1.85530,0.82454],[-5.36762,1.85530,-0.82454],[-4.71802,2.98044,-1.30881],[-5.36762,4.10557,1.33578],[-5.36762,4.10557,-1.33578],[-6.04248,1.85530,0.00000],[-4.71802,5.23071,1.30294],[-4.71802,5.23071,-1.30294],[-5.36762,6.35585,1.05756],[-5.36762,6.35585,-1.05756],[-5.81937,7.48098,0.00000],[-4.87738,7.20496,0.00000],[-5.98943,7.52912,0.00000],[-3.96498,-0.21580,0.00000],[-4.71802,0.73016,0.44680],[-3.41883,0.73016,1.13747],[-4.47832,0.31498,0.00000],[-3.41883,0.73016,-1.13747],[-4.71802,0.73016,-0.44680],[-4.06842,1.85530,1.24194],[-4.06842,1.85530,-1.24194],[-4.89993,0.73016,0.00000],[-5.61224,1.43161,0.00000],[-4.78396,0.61596,0.00000],[-3.41883,2.98044,1.40628],[-3.41883,2.98044,-1.40628],[-4.06842,4.10557,1.38630],[-4.06842,4.10557,-1.38630],[-3.41883,5.23071,1.23858],[-3.41883,5.23071,-1.23858],[-4.06842,6.35585,0.88026],[-4.06842,6.35585,-0.88026],[-4.49376,7.09255,0.00000],[-2.11963,0.73016,1.37644],[-2.76923,-0.39497,1.03803],[-2.76923,-0.39497,-1.03803],[-2.11963,0.73016,-1.37644],[-2.76923,1.85530,1.39656],[-2.76923,1.85530,-1.39656],[-3.81412,-0.39497,0.00000],[-2.11963,2.98044,1.42970],[-2.11963,2.98044,-1.42970],[-2.76923,4.10557,1.37532],[-2.76923,4.10557,-1.37532],[-2.11963,5.23071,1.08496],[-2.11963,5.23071,-1.08496],[-2.76923,6.35585,0.49386],[-2.76923,6.35585,-0.49386],[-3.76618,6.87935,0.00000],[-2.90430,6.58980,0.00000],[-0.82043,-6.02065,1.16619],[-1.47003,-7.14579,0.75486],[-2.11963,-6.02065,0.32664],[-2.11963,-6.02065,-0.32664],[-1.47003,-7.14579,-0.75486],[-0.82043,-6.02065,-1.16619],[-1.47003,-4.89552,1.02828],[-1.47003,-4.89552,-1.02828],[-2.20723,-5.86893,0.00000],[-2.29173,-4.89552,0.00000],[-2.19406,-6.02065,0.00000],[-2.18433,-6.13272,0.00000],[-2.09639,-7.14579,0.00000],[-0.82043,-3.77038,1.30053],[-2.11963,-3.77038,0.67852],[-2.11963,-3.77038,-0.67852],[-0.82043,-3.77038,-1.30053],[-1.47003,-2.64525,1.17365],[-1.47003,-2.64525,-1.17365],[-2.53704,-3.04741,0.00000],[-2.59885,-2.64525,0.00000],[-2.43602,-3.77038,0.00000],[-2.37437,-4.21160,0.00000],[-0.82043,-1.52011,1.38765],[-2.11963,-1.52011,1.03680],[-2.11963,-1.52011,-1.03680],[-0.82043,-1.52011,-1.38765],[-1.47003,-0.39497,1.36798],[-1.47003,-0.39497,-1.36798],[-2.91687,-1.52011,0.00000],[-3.19428,-1.13119,0.00000],[-2.64641,-2.43252,0.00000],[-0.82043,0.73016,1.45773],[-0.82043,0.73016,-1.45773],[-1.47003,1.85530,1.44974],[-1.47003,1.85530,-1.44974],[-0.82043,2.98044,1.40612],[-0.82043,2.98044,-1.40612],[-1.47003,4.10557,1.30988],[-1.47003,4.10557,-1.30988],[-0.82043,5.23071,0.77630],[-0.82043,5.23071,-0.77630],[-1.63514,6.06986,0.00000],[-1.20262,5.89267,0.00000],[-2.33322,6.35585,0.00000],[-2.68583,6.50030,0.00000],[-0.82043,-8.27093,0.00000],[-0.17084,-7.14579,1.03865],[-0.17084,-7.14579,-1.03865],[-2.11963,-8.27093,0.00000],[0.47876,-6.02065,1.33509],[0.47876,-6.02065,-1.33509],[-0.17084,-4.89552,1.36158],[-0.17084,-4.89552,-1.36158],[0.47876,-3.77038,1.44870],[0.47876,-3.77038,-1.44870],[-0.17084,-2.64525,1.42327],[-0.17084,-2.64525,-1.42327],[0.47876,-1.52011,1.47632],[0.47876,-1.52011,-1.47632],[-0.17084,-0.39497,1.46547],[-0.17084,-0.39497,-1.46547],[0.47876,0.73016,1.47454],[0.47876,0.73016,-1.47454],[-0.17084,1.85530,1.45164],[-0.17084,1.85530,-1.45164],[0.47876,2.98044,1.33091],[0.47876,2.98044,-1.33091],[-0.17084,4.10557,1.15477],[-0.17084,4.10557,-1.15477],[0.16276,5.23071,0.00000],[0.40485,5.10270,0.00000],[-0.59048,5.62901,0.00000],[0.47876,-8.27093,0.00000],[1.12836,-7.14579,1.10489],[1.12836,-7.14579,-1.10489],[1.77796,-6.02065,1.37716],[1.77796,-6.02065,-1.37716],[1.12836,-4.89552,1.44531],[1.12836,-4.89552,-1.44531],[1.77796,-3.77038,1.48722],[1.77796,-3.77038,-1.48722],[1.12836,-2.64525,1.48606],[1.12836,-2.64525,-1.48606],[1.77796,-1.52011,1.49631],[1.77796,-1.52011,-1.49631],[1.12836,-0.39497,1.48789],[1.12836,-0.39497,-1.48789],[1.77796,0.73016,1.45647],[1.77796,0.73016,-1.45647],[1.12836,1.85530,1.41359],[1.12836,1.85530,-1.41359],[1.77796,2.98044,1.15716],[1.77796,2.98044,-1.15716],[1.12836,4.10557,0.83790],[1.12836,4.10557,-0.83790],[0.61763,4.99018,0.00000],[1.77796,-8.27093,0.00000],[2.42755,-7.14579,1.12140],[2.42755,-7.14579,-1.12140],[3.07715,-6.02065,1.38751],[3.07715,-6.02065,-1.38751],[2.42755,-4.89552,1.46677],[2.42755,-4.89552,-1.46677],[3.07715,-3.77038,1.49542],[3.07715,-3.77038,-1.49542],[2.42755,-2.64525,1.50000],[2.42755,-2.64525,-1.50000],[3.07715,-1.52011,1.49162],[3.07715,-1.52011,-1.49162],[2.42755,-0.39497,1.47932],[2.42755,-0.39497,-1.47932],[3.07715,0.73016,1.39864],[3.07715,0.73016,-1.39864],[2.42755,1.85530,1.31848],[2.42755,1.85530,-1.31848],[3.07715,2.98044,0.77569],[3.07715,2.98044,-0.77569],[2.35479,3.97954,0.00000],[2.58783,3.82797,0.00000],[2.16102,4.10557,0.00000],[1.40018,4.57638,0.00000],[3.07715,-8.27093,0.00000],[3.72675,-7.14579,1.12517],[3.72675,-7.14579,-1.12517],[4.37635,-6.02065,1.38874],[4.37635,-6.02065,-1.38874],[3.72675,-4.89552,1.47076],[3.72675,-4.89552,-1.47076],[4.37635,-3.77038,1.49216],[4.37635,-3.77038,-1.49216],[3.72675,-2.64525,1.49652],[3.72675,-2.64525,-1.49652],[4.37635,-1.52011,1.46597],[4.37635,-1.52011,-1.46597],[3.72675,-0.39497,1.44211],[3.72675,-0.39497,-1.44211],[4.37635,0.73016,1.25998],[4.37635,0.73016,-1.25998],[3.72675,1.85530,1.09465],[3.72675,1.85530,-1.09465],[3.85587,2.98044,0.00000],[4.21550,2.70184,0.00000],[3.29930,3.36521,0.00000],[4.37635,-8.27093,0.00000],[5.02595,-7.14579,1.12484],[5.02595,-7.14579,-1.12484],[5.67554,-6.02065,1.38514],[5.67554,-6.02065,-1.38514],[5.02595,-4.89552,1.46738],[5.02595,-4.89552,-1.46738],[5.67554,-3.77038,1.47747],[5.67554,-3.77038,-1.47747],[5.02595,-2.64525,1.47776],[5.02595,-2.64525,-1.47776],[5.67554,-1.52011,1.39915],[5.67554,-1.52011,-1.39915],[5.02595,-0.39497,1.34823],[5.02595,-0.39497,-1.34823],[5.67554,0.73016,0.90787],[5.67554,0.73016,-0.90787],[5.02595,1.85530,0.50901],[5.02595,1.85530,-0.50901],[4.79751,2.25097,0.00000],[5.67554,-8.27093,0.00000],[6.32514,-7.14579,1.12121],[6.32514,-7.14579,-1.12121],[6.97474,-6.02065,1.37360],[6.97474,-6.02065,-1.37360],[6.32514,-4.89552,1.45485],[6.32514,-4.89552,-1.45485],[6.97474,-3.77038,1.43769],[6.97474,-3.77038,-1.43769],[6.32514,-2.64525,1.42823],[6.32514,-2.64525,-1.42823],[6.97474,-1.52011,1.22979],[6.97474,-1.52011,-1.22979],[6.32514,-0.39497,1.10567],[6.32514,-0.39497,-1.10567],[6.58733,0.73016,0.00000],[6.84211,0.50044,0.00000],[5.98769,1.27082,0.00000],[5.30826,1.85530,0.00000],[5.11319,2.00641,0.00000],[6.97474,-8.27093,0.00000],[7.62434,-7.14579,1.11057],[7.62434,-7.14579,-1.11057],[8.27393,-6.02065,1.34138],[8.27393,-6.02065,-1.34138],[7.62434,-4.89552,1.42011],[7.62434,-4.89552,-1.42011],[8.27393,-3.77038,1.32928],[8.27393,-3.77038,-1.32928],[7.62434,-2.64525,1.29947],[7.62434,-2.64525,-1.29947],[8.27393,-1.52011,0.76385],[8.27393,-1.52011,-0.76385],[7.62434,-0.39497,0.37851],[7.62434,-0.39497,-0.37851],[7.43648,-0.06960,0.00000],[8.27393,-8.27093,0.00000],[8.92353,-7.14579,1.08102],[8.92353,-7.14579,-1.08102],[9.57313,-6.02065,1.25095],[9.57313,-6.02065,-1.25095],[8.92353,-4.89552,1.32301],[8.92353,-4.89552,-1.32301],[9.57313,-3.77038,1.00957],[9.57313,-3.77038,-1.00957],[8.92353,-2.64525,0.92948],[8.92353,-2.64525,-0.92948],[8.81611,-1.52011,0.00000],[9.26888,-2.04709,0.00000],[8.48628,-1.15231,0.00000],[7.75196,-0.39497,0.00000],[7.67197,-0.31247,0.00000],[9.57313,-8.27093,0.00000],[10.22273,-7.14579,0.99863],[10.22273,-7.14579,-0.99863],[10.87233,-6.02065,0.98716],[10.87233,-6.02065,-0.98716],[10.22273,-4.89552,1.03651],[10.22273,-4.89552,-1.03651],[10.61719,-3.77038,0.00000],[10.76005,-3.96485,0.00000],[10.03259,-2.97457,0.00000],[9.78279,-2.64525,0.00000],[10.87233,-8.27093,0.00000],[11.52192,-7.14579,0.76378],[11.52192,-7.14579,-0.76378],[12.15524,-6.02065,0.00000],[12.16345,-6.03464,0.00000],[11.48750,-4.95514,0.00000],[11.44371,-4.89552,0.00000],[12.81569,-7.14579,0.00000],[12.17152,-8.27093,0.00000]], faces=[[0,1,2],[3,4,5],[6,0,2],[7,0,6],[7,3,5],[6,3,7],[8,6,2],[6,8,3],[9,8,2],[8,9,3],[10,9,2],[9,10,3],[11,2,1],[10,2,11],[10,4,3],[11,4,10],[12,1,13],[14,1,12],[14,15,4],[12,15,14],[0,13,1],[4,15,5],[16,11,1],[11,16,4],[14,16,1],[16,14,4],[17,13,0],[5,15,18],[19,17,0],[20,17,19],[20,5,18],[19,5,20],[7,19,0],[19,7,5],[21,22,23],[24,22,21],[24,25,26],[21,25,24],[27,23,22],[26,25,28],[13,27,22],[26,28,15],[29,13,22],[12,13,29],[12,26,15],[29,26,12],[30,29,22],[29,30,26],[24,30,22],[30,24,26],[17,27,13],[15,28,18],[31,27,17],[18,28,32],[33,31,17],[34,31,33],[34,18,32],[33,18,34],[20,33,17],[33,20,18],[35,36,23],[25,37,38],[39,35,23],[25,38,40],[27,39,23],[25,40,28],[41,23,36],[21,23,41],[21,37,25],[41,37,21],[31,39,27],[28,40,32],[42,39,31],[32,40,43],[44,42,31],[45,42,44],[45,32,43],[44,32,45],[34,44,31],[44,34,32],[46,47,48],[49,47,46],[49,50,51],[46,50,49],[52,48,47],[51,50,53],[36,52,47],[51,53,37],[54,36,47],[55,36,54],[55,51,37],[54,51,55],[56,54,47],[54,56,51],[49,56,47],[56,49,51],[35,52,36],[37,53,38],[55,41,36],[41,55,37],[57,52,35],[38,53,58],[59,57,35],[38,58,60],[39,59,35],[38,60,40],[42,59,39],[40,60,43],[61,59,42],[43,60,62],[63,61,42],[64,61,63],[64,43,62],[63,43,64],[45,63,42],[63,45,43],[65,66,48],[50,67,68],[69,65,48],[50,68,70],[52,69,48],[50,70,53],[71,48,66],[46,48,71],[46,67,50],[71,67,46],[57,69,52],[53,70,58],[72,69,57],[58,70,73],[74,72,57],[58,73,75],[59,74,57],[58,75,60],[61,74,59],[60,75,62],[76,74,61],[77,74,76],[77,62,75],[76,62,77],[78,76,61],[76,78,62],[64,78,61],[78,64,62],[79,80,81],[82,80,79],[82,83,84],[79,83,82],[85,81,80],[84,83,86],[66,85,80],[84,86,67],[87,66,80],[88,66,87],[88,84,67],[87,84,88],[89,87,80],[87,89,84],[82,89,80],[89,82,84],[65,85,66],[67,86,68],[88,71,66],[71,88,67],[90,85,65],[68,86,91],[92,90,65],[68,91,93],[69,92,65],[68,93,70],[72,92,69],[70,93,73],[94,92,72],[73,93,95],[96,94,72],[73,95,97],[74,96,72],[73,97,75],[77,96,74],[98,96,77],[98,75,97],[77,75,98],[99,100,81],[83,101,102],[103,99,81],[83,102,104],[85,103,81],[83,104,86],[105,81,100],[79,81,105],[79,101,83],[105,101,79],[90,103,85],[86,104,91],[106,103,90],[91,104,107],[108,106,90],[91,107,109],[92,108,90],[91,109,93],[94,108,92],[93,109,95],[110,108,94],[95,109,111],[112,110,94],[95,111,113],[96,112,94],[95,113,97],[114,112,96],[115,112,114],[115,97,113],[114,97,115],[98,114,96],[114,98,97],[116,117,118],[119,120,121],[122,116,118],[119,121,123],[124,122,118],[125,122,124],[125,119,123],[124,119,125],[126,124,118],[124,126,119],[127,126,118],[126,127,119],[128,118,117],[127,118,128],[127,120,119],[128,120,127],[129,122,130],[131,123,132],[133,129,130],[131,132,134],[135,133,130],[136,133,135],[136,131,134],[135,131,136],[137,135,130],[135,137,131],[138,137,130],[137,138,131],[125,130,122],[138,130,125],[138,123,131],[125,123,138],[139,133,140],[141,134,142],[143,139,140],[141,142,144],[100,143,140],[141,144,101],[145,100,140],[146,100,145],[146,141,101],[145,141,146],[147,145,140],[145,147,141],[136,140,133],[147,140,136],[147,134,141],[136,134,147],[99,143,100],[101,144,102],[146,105,100],[105,146,101],[148,143,99],[102,144,149],[150,148,99],[102,149,151],[103,150,99],[102,151,104],[106,150,103],[104,151,107],[152,150,106],[107,151,153],[154,152,106],[107,153,155],[108,154,106],[107,155,109],[110,154,108],[109,155,111],[156,154,110],[111,155,157],[158,156,110],[159,156,158],[159,111,157],[158,111,159],[160,110,112],[158,110,160],[158,113,111],[160,113,158],[161,160,112],[160,161,113],[115,161,112],[161,115,113],[162,117,163],[162,164,120],[116,163,117],[120,164,121],[165,128,117],[128,165,120],[162,165,117],[165,162,120],[166,163,116],[121,164,167],[168,166,116],[121,167,169],[122,168,116],[121,169,123],[129,168,122],[123,169,132],[170,168,129],[132,169,171],[172,170,129],[132,171,173],[133,172,129],[132,173,134],[139,172,133],[134,173,142],[174,172,139],[142,173,175],[176,174,139],[142,175,177],[143,176,139],[142,177,144],[148,176,143],[144,177,149],[178,176,148],[149,177,179],[180,178,148],[149,179,181],[150,180,148],[149,181,151],[152,180,150],[151,181,153],[182,180,152],[153,181,183],[184,182,152],[153,183,185],[154,184,152],[153,185,155],[156,184,154],[155,185,157],[186,184,156],[187,184,186],[187,157,185],[186,157,187],[188,186,156],[186,188,157],[159,188,156],[188,159,157],[189,163,190],[189,191,164],[166,190,163],[164,191,167],[189,162,163],[162,189,164],[192,190,166],[167,191,193],[194,192,166],[167,193,195],[168,194,166],[167,195,169],[170,194,168],[169,195,171],[196,194,170],[171,195,197],[198,196,170],[171,197,199],[172,198,170],[171,199,173],[174,198,172],[173,199,175],[200,198,174],[175,199,201],[202,200,174],[175,201,203],[176,202,174],[175,203,177],[178,202,176],[177,203,179],[204,202,178],[179,203,205],[206,204,178],[179,205,207],[180,206,178],[179,207,181],[182,206,180],[181,207,183],[208,206,182],[183,207,209],[210,208,182],[183,209,211],[184,210,182],[183,211,185],[187,210,184],[212,210,187],[212,185,211],[187,185,212],[213,190,214],[213,215,191],[192,214,190],[191,215,193],[213,189,190],[189,213,191],[216,214,192],[193,215,217],[218,216,192],[193,217,219],[194,218,192],[193,219,195],[196,218,194],[195,219,197],[220,218,196],[197,219,221],[222,220,196],[197,221,223],[198,222,196],[197,223,199],[200,222,198],[199,223,201],[224,222,200],[201,223,225],[226,224,200],[201,225,227],[202,226,200],[201,227,203],[204,226,202],[203,227,205],[228,226,204],[205,227,229],[230,228,204],[205,229,231],[206,230,204],[205,231,207],[208,230,206],[207,231,209],[232,230,208],[209,231,233],[234,232,208],[235,232,234],[235,209,233],[234,209,235],[236,208,210],[234,208,236],[234,211,209],[236,211,234],[237,236,210],[236,237,211],[212,237,210],[237,212,211],[238,214,239],[238,240,215],[216,239,214],[215,240,217],[238,213,214],[213,238,215],[241,239,216],[217,240,242],[243,241,216],[217,242,244],[218,243,216],[217,244,219],[220,243,218],[219,244,221],[245,243,220],[221,244,246],[247,245,220],[221,246,248],[222,247,220],[221,248,223],[224,247,222],[223,248,225],[249,247,224],[225,248,250],[251,249,224],[225,250,252],[226,251,224],[225,252,227],[228,251,226],[227,252,229],[253,251,228],[229,252,254],[255,253,228],[229,254,256],[230,255,228],[229,256,231],[232,255,230],[231,256,233],[257,255,232],[258,255,257],[258,233,256],[257,233,258],[259,257,232],[257,259,233],[235,259,232],[259,235,233],[260,239,261],[260,262,240],[241,261,239],[240,262,242],[260,238,239],[238,260,240],[263,261,241],[242,262,264],[265,263,241],[242,264,266],[243,265,241],[242,266,244],[245,265,243],[244,266,246],[267,265,245],[246,266,268],[269,267,245],[246,268,270],[247,269,245],[246,270,248],[249,269,247],[248,270,250],[271,269,249],[250,270,272],[273,271,249],[250,272,274],[251,273,249],[250,274,252],[253,273,251],[252,274,254],[275,273,253],[254,274,276],[277,275,253],[254,276,278],[255,277,253],[254,278,256],[258,277,255],[279,277,258],[279,256,278],[258,256,279],[280,261,281],[280,282,262],[263,281,261],[262,282,264],[280,260,261],[260,280,262],[283,281,263],[264,282,284],[285,283,263],[264,284,286],[265,285,263],[264,286,266],[267,285,265],[266,286,268],[287,285,267],[268,286,288],[289,287,267],[268,288,290],[269,289,267],[268,290,270],[271,289,269],[270,290,272],[291,289,271],[272,290,292],[293,291,271],[272,292,294],[273,293,271],[272,294,274],[275,293,273],[274,294,276],[295,293,275],[296,293,295],[296,276,294],[295,276,296],[297,295,275],[295,297,276],[298,275,277],[297,275,298],[297,278,276],[298,278,297],[299,298,277],[298,299,278],[279,299,277],[299,279,278],[300,281,301],[300,302,282],[283,301,281],[282,302,284],[300,280,281],[280,300,282],[303,301,283],[284,302,304],[305,303,283],[284,304,306],[285,305,283],[284,306,286],[287,305,285],[286,306,288],[307,305,287],[288,306,308],[309,307,287],[288,308,310],[289,309,287],[288,310,290],[291,309,289],[290,310,292],[311,309,291],[292,310,312],[313,311,291],[292,312,314],[293,313,291],[292,314,294],[296,313,293],[315,313,296],[315,294,314],[296,294,315],[316,301,317],[316,318,302],[303,317,301],[302,318,304],[316,300,301],[300,316,302],[319,317,303],[304,318,320],[321,319,303],[304,320,322],[305,321,303],[304,322,306],[307,321,305],[306,322,308],[323,321,307],[308,322,324],[325,323,307],[308,324,326],[309,325,307],[308,326,310],[311,325,309],[310,326,312],[327,325,311],[328,325,327],[328,312,326],[327,312,328],[329,327,311],[327,329,312],[330,311,313],[329,311,330],[329,314,312],[330,314,329],[331,330,313],[330,331,314],[315,331,313],[331,315,314],[332,317,333],[332,334,318],[319,333,317],[318,334,320],[332,316,317],[316,332,318],[335,333,319],[320,334,336],[337,335,319],[320,336,338],[321,337,319],[320,338,322],[323,337,321],[322,338,324],[339,337,323],[340,337,339],[340,324,338],[339,324,340],[341,339,323],[339,341,324],[342,323,325],[341,323,342],[341,326,324],[342,326,341],[328,342,325],[342,328,326],[343,333,344],[343,345,334],[335,344,333],[334,345,336],[343,332,333],[332,343,334],[346,344,335],[347,344,346],[347,336,345],[346,336,347],[348,346,335],[346,348,336],[349,335,337],[348,335,349],[348,338,336],[349,338,348],[340,349,337],[349,340,338],[350,351,344],[351,350,345],[347,350,344],[350,347,345],[351,343,344],[343,351,345]]);
}


points_barrel = [ [-110.060239950,0],[-110.014584241,1.695645220],[-109.724652184,2.962554592],[-109.214773886,4.292766866],[-108.509279450,5.663517797],[-107.632498983,7.052043135],[-106.608762591,8.435578635],[-105.462400378,9.791360047],[-104.217742450,11.096623125],[-102.899118913,12.328603621],[-101.530859872,13.464537287],[-100.137295432,14.481659876],[-98.742755700,15.357207141],[-97.371570780,16.068414833],[-96.048070778,16.592518705],[-94.796585800,16.906754510],[-93.641445950,16.988358000],[-67.683096711,17.137902531],[-35.314363662,17.466900500],[3.982229950,17.945443000],[4.838904794,17.675708609],[5.775428095,17.267712994],[6.931346200,16.614673875],[8.217112274,15.669372834],[9.543179481,14.384591453],[10.820000985,12.713111314],[11.411961212,11.717603455],[11.958029950,10.607714000],[21.848009950,10.607714000],[21.608749950,16.828788000],[26.075189950,16.828788000],[26.718861185,15.889644350],[27.497124052,15.043267393],[28.385677289,14.285217305],[29.360219638,13.611054266],[31.470066630,12.496630037],[33.632254950,11.664476125],[35.652374520,11.079073947],[37.336015263,10.704904922],[38.916219950,10.448192000],[38.836419950,16.270533000],[42.345779950,16.350273000],[42.963577860,14.808996643],[43.691723856,13.580545016],[44.470817587,12.631839662],[45.241458700,11.929802125],[45.944246845,11.441353947],[47.051489950,10.926761000],[57.579539950,9.331588000],[57.739059950,13.479019000],[59.733009950,13.478971000],[60.208908605,12.874380845],[60.821582313,12.293114902],[62.364818856,11.209210781],[64.177847509,10.244568895],[66.075796200,9.416499500],[69.386965419,8.239319219],[70.819349950,7.816152000],[93.311079950,6.460286000],[93.470599950,8.214981000],[110.060239950,7.975770000],[110.060239950,0.000000000] ];



center_handle_1 = [-97.960855558,7.041923672];
size_handle_1 = [20.924801116,93.366412656];
color_handle_1 = [0.00000,0.00000,1.00000];
center_handle_2 = [-79.525974401,0.363701672];
size_handle_2 = [15.830409572,7.316694110];
color_handle_2 = [1.00000,0.00000,1.00000];
center_handle_3 = [-82.966968500,0.469360000];
size_handle_3 = [2.104747000,0.000000000];
color_handle_3 = [0.00000,1.00000,1.00000];
center_handle_4 = [-48.472497000,15.707756553];
size_handle_4 = [0.000000000,8.076826895];
color_handle_4 = [1.00000,1.00000,0.00000];
center_handle_5 = [-31.767115800,14.313253641];
size_handle_5 = [0.000000000,1.700892718];
color_handle_5 = [0.00000,1.00000,0.00000];
center_handle_6 = [-41.027529800,15.447173600];
size_handle_6 = [0.000000000,1.700892800];
color_handle_6 = [0.00000,1.00000,0.00000];
center_handle_7 = [-23.451640800,17.904023600];
size_handle_7 = [0.000000000,1.700892800];
color_handle_7 = [0.00000,1.00000,0.00000];
center_handle_8 = [-18.254466800,25.085573641];
size_handle_8 = [0.000000000,1.700892718];
color_handle_8 = [0.00000,1.00000,0.00000];
center_handle_9 = [-17.404017800,32.550603600];
size_handle_9 = [0.000000000,1.700892800];
color_handle_9 = [0.00000,1.00000,0.00000];
// paths for handle_1
points_handle_1_1 = [ [10.462400558,46.683206328],[54.619119183,47.783529453],[94.415035558,48.807932328],[94.478798214,44.879783266],[94.422696808,40.606696828],[94.170419777,36.768936641],[93.946868038,35.257136273],[93.645655558,34.146766328],[84.278499433,33.655303828],[75.170677558,33.257186328],[74.209412189,33.298375957],[73.359526355,33.507795859],[71.753464433,34.246817578],[69.871634073,35.105233672],[68.677037693,35.463896543],[67.233177558,35.714026328],[65.583760370,35.799072500],[63.840440558,35.676761953],[62.045032495,35.322383594],[60.239350558,34.711226328],[58.465209120,33.818579063],[56.764422558,32.619730703],[55.178805245,31.089970156],[53.750171558,29.204586328],[53.151955616,28.179841199],[52.686471599,27.178268887],[52.343159597,26.201720881],[51.980811994,24.331103748],[51.940656571,23.440737598],[52.089582933,21.759147578],[52.473759497,20.222090527],[53.008706980,18.844378359],[54.192997558,16.626236328],[54.532631308,14.365890078],[54.543414527,13.267103047],[54.425317523,12.755174668],[54.192997558,12.279506328],[53.858667882,11.894377708],[53.452502105,11.628691113],[52.452176745,11.360832109],[49.892152308,11.215487578],[48.442511230,10.958754473],[47.699358663,10.701412302],[46.953156245,10.326482422],[46.210782601,9.810261858],[45.479116355,9.129047637],[44.765036132,8.259136785],[44.075420558,7.176826328],[42.087438777,1.881697227],[40.383203558,-3.471371484],[38.883910339,-8.866414414],[34.827637058,-25.143734609],[33.360066214,-30.547020508],[31.703414558,-35.912453672],[32.038474579,-36.782402949],[32.646163480,-37.553323516],[34.266686933,-38.930994922],[35.073150993,-39.604203965],[35.739502948,-40.311300703],[36.162557552,-41.085514238],[36.250602957,-41.508173899],[36.239129558,-41.960073672],[36.005976909,-42.782154258],[35.569719995,-43.538360234],[34.967349612,-44.218434180],[34.235856558,-44.812118672],[33.412231628,-45.309156289],[32.533465620,-45.699289609],[31.636549331,-45.972261211],[30.758473558,-46.117813672],[25.501384517,-46.504300566],[20.415530355,-46.683206328],[15.491348888,-46.652487324],[10.719277933,-46.410099922],[6.089755306,-45.954000488],[1.593218823,-45.282145391],[-2.779893698,-44.392490996],[-7.039144442,-43.282993672],[-7.553626513,-43.084789563],[-8.026807954,-42.806040801],[-8.848820089,-42.039203203],[-9.504283132,-41.047068652],[-9.992299367,-39.894224922],[-10.311971081,-38.645259785],[-10.462400558,-37.364761016],[-10.442690083,-36.117316387],[-10.251941942,-34.967513672],[-8.876113379,-30.278162031],[-7.198883887,-25.598987422],[-5.285540967,-20.922910312],[-3.201372118,-16.242851172],[3.423214997,-2.107986250],[5.537812558,2.658796328],[5.456185077,3.418160098],[5.579550714,4.467053984],[6.308108308,7.179587578],[7.457179277,10.288708047],[8.760457558,13.286726328],[9.530848417,14.082379922],[10.086814933,15.033372578],[10.914724558,17.382186328],[11.264356769,18.695999531],[11.457045245,20.015689453],[11.430195128,21.346367812],[11.121211558,22.693146328],[10.467499675,24.061136719],[9.406464620,25.455450703],[7.875511534,26.881200000],[5.812045558,28.343496328],[4.567297530,28.966268223],[3.234853747,29.374587109],[0.410604370,29.809890078],[-2.453251663,30.173453672],[-3.835203766,30.492098340],[-5.149263442,30.989326328],[-6.996176735,31.817663828],[-7.389709385,32.066205039],[-7.655897641,32.327314141],[-7.744708437,32.598983711],[-7.606108712,32.879206328],[-7.254407262,33.114290740],[-4.891038918,33.937185547],[-2.511156565,34.744021270],[0.245313119,35.906972578],[1.693289076,36.662042712],[3.149636903,37.554203105],[4.585764949,38.599474211],[5.973081558,39.813876484],[7.282995077,41.213430378],[8.486913853,42.814156348],[9.556246231,44.632074846],[10.462400558,46.683206328] ];

// paths for handle_2
points_handle_2_1 = [ [7.915204786,3.658347055],[7.769197942,3.393114702],[7.410236305,3.115117715],[4.745491794,1.730698179],[4.503432743,1.494334333],[4.422608072,0.666293230],[4.533076613,-0.602371620],[4.601251664,-1.832358677],[4.546483286,-2.283066303],[4.393546523,-2.544366405],[4.095144745,-2.595583108],[3.653988106,-2.488264087],[2.526642214,-1.991666854],[0.910161742,-1.268052966],[0.574443789,-1.226171509],[-0.123338562,-1.679249457],[-1.046344313,-2.556619939],[-1.965479438,-3.376810093],[-2.352003633,-3.615002277],[-2.651649912,-3.658347055],[-2.877742458,-3.456982384],[-3.068891778,-3.045160930],[-3.383520670,-1.854143147],[-3.825639396,-0.139162294],[-4.002219010,0.149423634],[-4.791512786,0.412475141],[-6.052951711,0.587080133],[-7.267270729,0.794312034],[-7.694489944,0.947998520],[-7.915204786,1.155244269],[-7.898738640,1.457562304],[-7.695944823,1.863778120],[-6.960940955,2.852356042],[-5.895769988,4.267287228],[-5.780235733,4.585267724],[-6.066689465,5.366378707],[-6.716672111,6.461477756],[-7.311766685,7.540076925],[-7.457975637,7.969911570],[-7.433556201,8.271688265],[-7.186928785,8.447306307],[-6.742897224,8.542026911],[-5.511729093,8.583745881],[-3.741367200,8.633156538],[-3.420724739,8.741085422],[-2.988631785,9.452058345],[-2.537707714,10.643017914],[-2.065460114,11.780778535],[-1.820561112,12.163088742],[-1.569396573,12.332154613],[-1.278322583,12.248824073],[-0.927417458,11.960720305],[-0.127179010,11.024164553],[1.015254627,9.670853385],[1.299554221,9.487460452],[2.124819374,9.592915687],[3.337095409,9.982918690],[4.521073607,10.323083652],[4.972667042,10.369981301],[5.261445247,10.279024760],[5.377779523,9.999500813],[5.371318486,9.545523754],[5.138030979,8.335938830],[4.792263055,6.598966404],[4.826137814,6.262345445],[5.423132451,5.682882102],[6.483891081,4.978249841],[7.488039820,4.264665785],[7.806268643,3.940834684],[7.915204786,3.658347055] ];

// paths for handle_3
points_handle_3_1 = [ [1.052373500,0.000000000],[2.341385016,0.426002031],[4.186907125,1.302976250],[5.876679922,2.405439844],[6.440579107,2.970766777],[6.698443500,3.507910000],[6.703786039,4.439974980],[6.486483062,5.373852969],[6.101611805,6.284063535],[5.604249500,7.145126250],[4.492360687,8.617886406],[3.591434500,9.588290000],[3.028107234,9.939724531],[2.431851875,10.016408750],[1.889201078,9.912446094],[1.486687500,9.721940000],[1.220028420,9.420052422],[1.170926234,9.042656250],[1.492768375,8.072252500],[1.986965578,6.832557500],[2.153307221,6.118547266],[2.188269500,5.345400000],[2.018264971,4.610664004],[1.651632203,3.994418281],[1.153103053,3.473176230],[-0.486544141,2.244606094],[-0.865340268,1.868512715],[-1.052373500,1.469990000],[-1.044808494,1.082325508],[-0.903280516,0.754084687],[-0.658266998,0.484686523],[-0.340245375,0.273550000],[0.392912453,0.023737813],[1.052373500,0.000000000] ];

// paths for handle_4
points_handle_4_1 = [ [0.000000000,4.038413447],[2.893945875,1.119845947],[4.226560107,-0.060397100],[5.661114891,-1.199384053],[7.126754947,-2.186366631],[8.552625000,-2.910596553],[10.429948979,-3.495322236],[12.631069578,-3.878468896],[15.069651545,-4.038413447],[17.659359625,-3.953532803],[20.313858564,-3.602203877],[22.946813109,-2.962803584],[24.228231467,-2.528319460],[26.666990819,-1.416268831],[27.802748000,-0.733296553],[28.857373007,0.036197441],[29.819014834,0.882994463],[31.479792297,2.758060322],[32.817967080,4.791026494],[33.866425875,6.881018447],[34.658055373,8.927161650],[35.225742266,10.828581572],[35.602373244,12.484403682],[35.820835000,13.793753447],[35.878227898,15.091470635],[35.780111625,16.683602197],[35.299640750,20.174808447],[34.477770000,24.350893447],[33.542327000,26.088153447],[25.791509000,25.419973447],[26.910700875,23.782948447],[28.731475000,20.742763447],[29.109672254,19.850906865],[29.476906969,18.619221416],[29.734519199,17.108782295],[29.783849000,15.380664697],[29.526236426,13.495943818],[29.251495515,12.513943147],[28.863021531,11.515694854],[28.348481981,10.508833337],[27.695544371,9.500992998],[26.891876208,8.499808235],[25.925145000,7.512913447],[23.751812441,5.751673564],[22.618689330,5.020790640],[21.459023656,4.394054385],[20.276136917,3.874706294],[19.073350605,3.465987861],[17.853986218,3.171140581],[16.621365250,2.993405947],[15.378809196,2.936025454],[14.129639551,3.002240596],[12.877177810,3.195292866],[11.624745469,3.518423760],[10.375664022,3.974874771],[9.133254965,4.567887393],[7.900839792,5.300703120],[6.681740000,6.176563447],[5.674419766,7.088134385],[4.355014297,8.806186260],[3.348976000,9.957483447],[0.000000000,4.038413447] ];

// paths for handle_5
points_handle_5_1 = [ [0.000000000,0.850446359],[0.129472779,1.501349830],[0.498179997,2.053159140],[1.049989325,2.421866330],[1.700892801,2.551339077],[2.351796276,2.421866329],[2.903605604,2.053159138],[3.272312821,1.501349828],[3.401785600,0.850446359],[3.272312821,0.199542888],[2.903605603,-0.352266422],[2.351796275,-0.720973612],[1.700892799,-0.850446359],[1.049989324,-0.720973611],[0.498179996,-0.352266421],[0.129472779,0.199542890],[0.000000000,0.850446359] ];

// paths for handle_6
points_handle_6_1 = [ [0.000000000,0.850446400],[0.129472755,1.501349895],[0.498179967,2.053159233],[1.049989305,2.421866445],[1.700892800,2.551339200],[2.351796295,2.421866445],[2.903605633,2.053159233],[3.272312845,1.501349895],[3.401785600,0.850446400],[3.272312845,0.199542905],[2.903605633,-0.352266433],[2.351796295,-0.720973645],[1.700892800,-0.850446400],[1.049989305,-0.720973645],[0.498179967,-0.352266433],[0.129472755,0.199542905],[0.000000000,0.850446400] ];

// paths for handle_7
points_handle_7_1 = [ [0.000000000,0.850446400],[0.129472755,1.501349895],[0.498179967,2.053159233],[1.049989305,2.421866445],[1.700892800,2.551339200],[2.351796295,2.421866445],[2.903605633,2.053159233],[3.272312845,1.501349895],[3.401785600,0.850446400],[3.272312845,0.199542905],[2.903605633,-0.352266433],[2.351796295,-0.720973645],[1.700892800,-0.850446400],[1.049989305,-0.720973645],[0.498179967,-0.352266433],[0.129472755,0.199542905],[0.000000000,0.850446400] ];

// paths for handle_8
points_handle_8_1 = [ [0.000000000,0.850446359],[0.129472779,1.501349830],[0.498179997,2.053159140],[1.049989325,2.421866330],[1.700892801,2.551339077],[2.351796276,2.421866329],[2.903605604,2.053159138],[3.272312821,1.501349828],[3.401785600,0.850446359],[3.272312821,0.199542888],[2.903605603,-0.352266422],[2.351796275,-0.720973612],[1.700892799,-0.850446359],[1.049989324,-0.720973611],[0.498179996,-0.352266421],[0.129472779,0.199542890],[0.000000000,0.850446359] ];

// paths for handle_9
points_handle_9_1 = [ [0.000000000,0.850446400],[0.129472755,1.501349895],[0.498179967,2.053159233],[1.049989305,2.421866445],[1.700892800,2.551339200],[2.351796295,2.421866445],[2.903605633,2.053159233],[3.272312845,1.501349895],[3.401785600,0.850446400],[3.272312845,0.199542905],[2.903605633,-0.352266433],[2.351796295,-0.720973645],[1.700892800,-0.850446400],[1.049989305,-0.720973645],[0.498179967,-0.352266433],[0.129472755,0.199542905],[0.000000000,0.850446400] ];

module extrudeSymmetric(height) {
    translate([0,0,-height/2])
    linear_extrude(height=height) children();
}

module boomerangPoly() {
    translate(center_handle_3)
    polygon(points=points_handle_3_1);
}

module starPoly() {
    translate(center_handle_2)
    polygon(points=points_handle_2_1);
}

module handle() {
    extrudeSymmetric(handleThickness)
    translate(center_handle_1)
    polygon(points=points_handle_1_1);

    minkowski() {
        translate([0,0,-handleThickness/2])
        linear_extrude(height=handleThickness)
        translate(center_handle_1)
        offset(delta=-rounding)
        polygon(points=points_handle_1_1);
        scale([1,1,1])
        sphere(r=rounding);
    } 
 translate([5,0,0]) {   
extrudeSymmetric(starThickness*2+handleThickness+2*rounding) starPoly();
    extrudeSymmetric(boomerangThickness*2+starThickness*2+handleThickness+2*rounding) boomerangPoly();
 }
}

module triggerGuard() {
    render(convexity=2)
    difference() {
        extrudeSymmetric(triggerGuardThickness)
        translate(center_handle_4)
        polygon(points=points_handle_4_1);
        for (c=[center_handle_5+[0,.5],center_handle_6+[0,1.7],center_handle_7,center_handle_8+[0.5,0],center_handle_9+[1.7,0]]) {
        translate([0,0,triggerGuardThickness/2]) translate(c) sphere(d=sphereDiameter,$fn=16);
        translate([0,0,-triggerGuardThickness/2]) translate(c) sphere(d=sphereDiameter,$fn=16);
        }
    }
}

module barrelPoly() {
    render(convexity=4)
    difference() {
    intersection() {
        translate([0,-150]) square([30,300]);
        translate([0,-.1]) rotate(-90) polygon(points=points_barrel);
    }
        translate([17.8,0]) circle(d=1.25,$fn=16);
        translate([17.8,5]) circle(d=1.25,$fn=16);
        translate([17,85]) circle(d=1.25,$fn=16);
        translate([17,90]) circle(d=1.25,$fn=16);
    }
}

module barrel() {
    rotate([-90,0,0])
    rotate([0,-90,0]) 
    {
        rotate_extrude($fn=36) barrelPoly();
        translate([13,0,-97]) rotate([0,90,0]) rotate([90,0,0]) inflated_sight();
    }
    translate([6.5,-7,0])
    cube([20,20,triggerGuardThickness], center=true);
    extrudeSymmetric(37)
    hull() {
        translate([-23,0]) circle(d=4);
        translate([-68,0]) circle(d=4);
    }
}

module protonGun() {
    rotate([side==2?180:0,0,0])
translate([-18.5,-29,0])
rotate([0,0,-62.5]) {
    translate([0,65,0])
    barrel();
    handle();
    triggerGuard();
}
}

module protonGunHalf() {
    render(convexity=3)
    intersection() {
        protonGun();
        translate([-150,-150,0]) cube([300,300,100]);
    }
}

//cube([200,200,1],center=true);
if (side==3)
    protonGun();
else
    protonGunHalf();

//barrel();
//barrelPoly();